(this["webpackJsonpradroutes-front"]=this["webpackJsonpradroutes-front"]||[]).push([[0],{72:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(29),r=n.n(o),s=(n(72),n(4)),i=n(13),l=n(10),j=n(11),b=function(){return Object.keys(localStorage).indexOf("auth_token")>=0?localStorage.auth_token:Object.keys(sessionStorage).indexOf("auth_token")>=0?sessionStorage.auth_token:null},d="http://".concat(window.location.host,"/api"),u="#f99",h=function(e,t){var n="/"===e[0]?e.substring(1):e,a=b(),c=a?{Authorization:"Token ".concat(a)}:{};fetch("".concat(d,"/").concat(n),{method:"GET",headers:c}).then((function(e){return e.json()})).then((function(e){t(e),console.log("received data:",e)})).catch((function(e){return console.log(e)}))},O=n(9),f=n.n(O),x=n(8),g=n(0),m=function(e){var t="".concat(Math.round(3.28084*e),"ft"),n="".concat(e,"m");return"en-us"===navigator.language.toLowerCase()?"".concat(t," (").concat(n,")"):"".concat(n," (").concat(t,")")},p={Cartilage:"/static/assets/cartilage.png","Jagged Jaw":"/static/assets/jagged.jpg","In-N-Out":"/static/assets/in-n-out.png"};function y(e){var t=e.data,n=e.onPage,a=e.deleteThis,c=e.loggedIn,o=t,r=Object(l.f)();return Object.keys(o).length>1?Object(g.jsxs)(x.a,{style:{width:"36rem",margin:10},children:[Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsxs)(x.a.Body,{style:{minWidth:"60%",lineHeight:"2rem"},children:[Object(g.jsx)(x.a.Title,{children:o.climb_name}),"Type: ",Object(g.jsx)("b",{children:o.climb_type})," ",Object(g.jsx)("br",{}),"Grade: ",Object(g.jsx)("b",{children:o.grade})," ",Object(g.jsx)("br",{}),Object(g.jsxs)("div",{style:{flexGrow:1},children:["Height: ",Object(g.jsx)("b",{children:m(o.height)})]}),n?Object(g.jsx)(g.Fragment,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a.Link,{onClick:function(){return r("/faces/".concat(o.face))},children:"Face"}),Object(g.jsx)("br",{})]})]}),Object(g.jsx)("div",{style:{width:"100%",backgroundImage:"url(".concat(p[o.climb_name],")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]}),Object(g.jsxs)(x.a.Body,{children:[Object(g.jsx)(x.a.Title,{style:{marginTop:"1rem"},children:"Description"}),Object(g.jsxs)(x.a.Text,{children:[" ",o.description," "]}),"function"===typeof a&&c?Object(g.jsx)(j.a,{variant:"danger",onClick:function(){f.a.fire({icon:"warning",title:'Are you sure you want to delete "'.concat(o.climb_name,'"?'),showCancelButton:!0,focusCancel:!0,confirmButtonText:"Delete ".concat(o.climb_name),confirmButtonColor:"#f33"}).then((function(e){if(e.isConfirmed){console.log(o);var t=b(),n=t?{Authorization:"Token ".concat(t)}:{};fetch("".concat(d,"/climbs/").concat(o.climb_id),{method:"DELETE",headers:n}).then((function(e){if(!e.ok)throw Error("Could not delete this climb. Are you sure you own it?");console.log(e.text,o);try{f.a.fire({icon:"success",text:"successfully deleted ".concat(o.climb_name)})}catch(t){console.log(t)}a()})).catch((function(e){f.a.fire({icon:"error",text:e})}))}}))},children:"Delete"}):Object(g.jsx)(g.Fragment,{})]})]}):Object(g.jsx)(g.Fragment,{children:"This Climb Does Not Exist"})}function v(e){var t=e.loggedIn,n=Object(a.useState)(null),c=Object(s.a)(n,2),o=c[0],r=c[1];return Object(g.jsx)("div",{style:{display:"flex",height:"100%",justifyContent:"center",alignItems:"center",backgroundImage:"url(/static/assets/banner-1.jpg)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsxs)("div",{id:"title",style:{textAlign:"center"},children:[Object(g.jsx)("h1",{style:{fontSize:72,animation:"1s ease-out 0s 1 fadeIn"},children:'"Rad Route, Dude"'}),Object(g.jsx)("br",{}),Object(g.jsx)(j.a,{variant:"dark",style:{animation:"1s ease-out 0s 1 fadeIn"},onClick:function(){h("/climbs",r)},children:"Random Climb"})]}),Object(g.jsx)("div",{style:{minWidth:"40vw",minHeight:"100%",display:"grid",placeItems:"center"},children:Object(g.jsx)("div",{style:{position:"absolute"},children:null!==o?Object(g.jsx)(g.Fragment,{children:o.length>0?Object(g.jsx)(y,{data:o[Math.floor(Math.random()*o.length)]}):Object(g.jsx)("div",{style:{color:"#fdd"},children:t?"No climbs available :(":"Log in to see available climbs!"})}):Object(g.jsx)(g.Fragment,{})})})]})})}var k=n(3),C={username:"",first_name:"",last_name:"",email:"",password:"",is_guide:!1,info_private:!1};function _(e){var t=e.setLoggedIn,n=Object(a.useState)(C),c=Object(s.a)(n,2),o=c[0],r=c[1],i=Object(a.useState)(""),b=Object(s.a)(i,2),u=b[0],h=b[1],O=Object(a.useState)(""),m=Object(s.a)(O,2),p=m[0],y=m[1],v=Object(a.useState)(""),_=Object(s.a)(v,2),I=_[0],w=_[1],S=Object(a.useState)(!1),F=Object(s.a)(S,2),T=F[0],L=F[1],E=Object(a.useState)(""),N=Object(s.a)(E,2),A=N[0],D=N[1],B=Object(a.useState)(""),G=Object(s.a)(B,2),P=G[0],z=G[1],J=Object(a.useState)(""),H=Object(s.a)(J,2),W=H[0],R=H[1],U=Object(a.useState)(""),M=Object(s.a)(U,2),V=M[0],q=M[1],Y=Object(a.useState)(""),K=Object(s.a)(Y,2),Q=K[0],X=K[1],Z=Object(l.f)(),$={username:D,email:z,password:R,first_name:q,last_name:X};return Object(g.jsx)(x.a,{style:{margin:"auto",top:"50px",width:"380px"},onClick:function(){},children:Object(g.jsx)("div",{style:{display:"flex"},children:Object(g.jsxs)(x.a.Body,{children:[Object(g.jsx)(x.a.Title,{children:"Sign Up"}),Object(g.jsxs)(k.a,{children:[Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"first_name",children:[Object(g.jsx)(k.a.Label,{children:"Username*"}),""!==A?Object(g.jsxs)(g.Fragment,{children:[" ",Object(g.jsx)("br",{}),Object(g.jsx)(k.a.Text,{style:{color:"#f00"},children:A})," "]}):Object(g.jsx)(g.Fragment,{}),Object(g.jsx)(k.a.Control,{type:"text",placeholder:"johnsmith42",onInput:function(e){h(e.target.value);var t=o;t.username=e.target.value,r(t)}})]}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"first_name",children:[Object(g.jsx)(k.a.Label,{children:"First Name"}),""!==V?Object(g.jsxs)(g.Fragment,{children:[" ",Object(g.jsx)("br",{}),Object(g.jsx)(k.a.Text,{style:{color:"#f00"},children:V})," "]}):Object(g.jsx)(g.Fragment,{}),Object(g.jsx)(k.a.Control,{type:"text",placeholder:"John",onInput:function(e){var t=o;t.first_name=e.target.value,r(t)}})]}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"last_name",children:[Object(g.jsx)(k.a.Label,{children:"Last Name"}),""!==Q?Object(g.jsxs)(g.Fragment,{children:[" ",Object(g.jsx)("br",{}),Object(g.jsx)(k.a.Text,{style:{color:"#f00"},children:Q})," "]}):Object(g.jsx)(g.Fragment,{}),Object(g.jsx)(k.a.Control,{type:"text",placeholder:"Smith",onInput:function(e){var t=o;t.last_name=e.target.value,r(t)}})]}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"email",children:[Object(g.jsx)(k.a.Label,{children:"Email address*"}),""!==P?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("br",{}),Object(g.jsx)(k.a.Text,{style:{color:"#f00"},children:P})]}):Object(g.jsx)(g.Fragment,{}),Object(g.jsx)(k.a.Control,{type:"text",placeholder:"jsmith@example.com",onInput:function(e){var t=o;t.email=e.target.value,r(t)}}),Object(g.jsx)(k.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"password",children:[Object(g.jsx)(k.a.Label,{children:"Password*"}),""!==W?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("br",{}),Object(g.jsx)(k.a.Text,{style:{color:"#f00"},children:W})]}):Object(g.jsx)(g.Fragment,{}),Object(g.jsx)(k.a.Control,{type:T?"text":"password",placeholder:"Enter password",style:{marginBottom:"5px"},onInput:function(e){if(y(e.target.value),e.target.value===I){R("");var t=o;t.password=p,r(t)}else R("Passwords do not match")}}),Object(g.jsx)(k.a.Control,{style:{marginBottom:"5px"},type:T?"text":"password",placeholder:"Confirm password",onInput:function(e){if(w(e.target.value),e.target.value===p){R("");var t=o;t.password=p,r(t)}else R("Passwords do not match")}}),Object(g.jsx)(j.a,{variant:"light",size:"sm",onClick:function(){L(!T)},children:T?"Hide Password":"Show Password"})]}),Object(g.jsx)(k.a.Check,{type:"checkbox",id:"is_guide",label:"I am a guide.",onInput:function(e){var t=o;t.is_guide=e.target.checked,r(t)}}),Object(g.jsx)(k.a.Check,{type:"checkbox",id:"info_private",label:"Keep my info private",onInput:function(e){var t=o;t.info_private=e.target.checked,r(t)}}),Object(g.jsx)("br",{}),Object(g.jsx)(j.a,{variant:"primary",type:"submit",disabled:(console.log("hello"),""===p||""===o.username||""===o.email||""!==W),onClick:function(e){e.preventDefault(),fetch("".concat(d,"/users/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(n){console.log(n);for(var a=!1,c=0,r=Object.keys(o);c<r.length;c++){var s=r[c];Object.keys(n).indexOf(s)>=0?"[object Array]"===Object.prototype.toString.call(n[s])&&(a=!0,$[s](n[s][0])):Object.keys($).indexOf(s)>=0&&$[s]("")}if(!a){for(var i=0,l=Object.keys($);i<l.length;i++){var j=l[i];$[j](!1)}console.log("fetching authorization"),fetch("".concat(d,"/authorization/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:u,password:p})}).then((function(e){return e.json()})).then((function(n){try{sessionStorage.setItem("auth_token",n.token),localStorage.removeItem("auth_token"),localStorage.setItem("username",u),t(!0),f.a.fire({icon:"success",title:"Account Created",text:"Welcome to Rad Routes, ".concat(o.first_name," \ud83e\uddd7")}).then(Z("/books"))}catch(e){console.log(e),alert("Unknown error")}})).catch((function(e){return console.log(e)}))}})).catch((function(e){console.log(e)}))},children:"Submit"}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(k.a.Text,{className:"text-muted",children:"* required"})]})]})})})}function I(e){var t=e.setLoggedIn,n=Object(a.useState)(""),c=Object(s.a)(n,2),o=c[0],r=c[1],i=Object(a.useState)(""),b=Object(s.a)(i,2),u=b[0],h=b[1],O=Object(a.useState)(!1),m=Object(s.a)(O,2),p=m[0],y=m[1],v=Object(a.useState)(!0),C=Object(s.a)(v,2),_=C[0],I=C[1],w=Object(a.useState)(!1),S=Object(s.a)(w,2),F=S[0],T=S[1],L=Object(a.useState)(!1),E=Object(s.a)(L,2),N=E[0],A=E[1],D=Object(l.f)();return Object(g.jsx)(g.Fragment,{children:"undefined"!==typeof Storage?Object(g.jsx)(x.a,{style:{margin:"auto",top:"50px",width:"25%"},children:Object(g.jsxs)(x.a.Body,{children:[Object(g.jsx)(x.a.Title,{children:"Login"}),N?Object(g.jsx)(k.a.Text,{style:{color:"#f00"},children:"Username or password is incorrect."}):Object(g.jsx)(g.Fragment,{}),Object(g.jsxs)(k.a,{children:[Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"username",children:[Object(g.jsx)(k.a.Label,{children:"Username"}),Object(g.jsx)(k.a.Control,{type:"text",placeholder:"johnsmith42",onInput:function(e){I(""===u||""===e.target.value),r(e.target.value)}})]}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"password",children:[Object(g.jsx)(k.a.Label,{children:"Password"}),Object(g.jsx)(k.a.Control,{type:p?"text":"password",placeholder:"Enter password",onInput:function(e){I(""===o||""===e.target.value),h(e.target.value)}})]}),Object(g.jsx)(j.a,{variant:"light",size:"sm",onClick:function(){y(!p)},children:p?"Hide Password":"Show Password"}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(k.a.Check,{type:"checkbox",id:"remember",label:"Keep me signed in on this device.",onClick:function(e){T(e.target.checked)}}),Object(g.jsx)("br",{}),Object(g.jsx)(j.a,{variant:"primary",type:"submit",disabled:_,onClick:function(e){e.preventDefault(),fetch("".concat(d,"/authorization/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:u})}).then((function(e){return e.json()})).then((function(n){if(1===Object.keys(n).length&&Object.keys(n).indexOf("non_field_errors")>=0)A(!0);else{A(!1);try{F?localStorage.setItem("auth_token",n.token):(sessionStorage.setItem("auth_token",n.token),localStorage.removeItem("auth_token")),localStorage.setItem("username",o),t(!0),f.a.fire({icon:"success",title:"Welcome",text:"Good to see you again"}).then(D("/climbs"))}catch(e){console.log(e),alert("Unknown error")}}})).catch((function(e){return console.log(e)}))},children:"Login"})]})]})}):Object(g.jsxs)("div",{style:{textAlign:"center"},children:["Your browser does not support web storage. This means your credentials cannot be stored. ",Object(g.jsx)("br",{}),"You are still free to browse public guidebooks on RadRoutes!"]})})}var w=n(22);function S(e){var t=e.onChange,n=e.formData,a=e.setFormData,c=e.editableBooks,o=e.setEditableAreas;return Object(g.jsxs)(k.a.Group,{className:"mb-3",children:[Object(g.jsx)(k.a.Label,{children:"Book*"}),Object(g.jsxs)(k.a.Select,{style:W,size:R,onChange:function(e){if(n){var c=n;c.book=e.target.value,a(c)}o&&h("/books/".concat(e.target.value,"/areas"),o),"function"===typeof t&&t()},defaultValue:"default",children:[Object(g.jsx)("option",{disabled:!0,value:"default",children:"-- select book --"}),c.map((function(e,t){return Object(g.jsx)("option",{value:e.book_id,children:e.book_name},t)}))]})]})}function F(e){var t=e.onChange,n=e.formData,a=e.setFormData,c=e.editableAreas,o=e.setEditableFeatures;return c?Object(g.jsx)(g.Fragment,{children:c.length>0?Object(g.jsxs)(k.a.Group,{className:"mb-3",children:[Object(g.jsx)(k.a.Label,{children:"Area*"}),Object(g.jsxs)(k.a.Select,{style:W,size:R,onChange:function(e){if(n){var c=n;c.area=e.target.value,a(c)}o&&h("/areas/".concat(e.target.value,"/features"),o),"function"===typeof t&&t()},defaultValue:"default",children:[Object(g.jsx)("option",{disabled:!0,value:"default",children:"-- select area --"}),c.map((function(e,t){return Object(g.jsx)("option",{value:e.area_id,children:e.area_name},t)}))]})]}):Object(g.jsx)(g.Fragment,{children:"This book doesn't have any areas yet!"})}):Object(g.jsx)(g.Fragment,{})}function T(e){var t=e.onChange,n=e.formData,a=e.setFormData,c=e.editableFeatures,o=e.setEditableFaces;return c?Object(g.jsx)(g.Fragment,{children:c.length>0?Object(g.jsxs)(k.a.Group,{className:"mb-3",children:[Object(g.jsx)(k.a.Label,{children:"Feature*"}),Object(g.jsxs)(k.a.Select,{style:W,size:R,onChange:function(e){if(n){var c=n;c.feature=e.target.value,a(c)}o&&h("/features/".concat(e.target.value,"/faces"),o),"function"===typeof t&&t()},defaultValue:"default",children:[Object(g.jsx)("option",{disabled:!0,value:"default",children:"-- select feature --"}),c.map((function(e,t){return Object(g.jsx)("option",{value:e.feature_id,children:e.feature_name},t)}))]})]}):Object(g.jsx)(g.Fragment,{children:"This area doesn't have any features yet!"})}):Object(g.jsx)(g.Fragment,{})}function L(e){var t=e.onChange,n=e.formData,a=e.setFormData,c=e.editableFaces;return c?Object(g.jsx)(g.Fragment,{children:c.length>0?Object(g.jsxs)(k.a.Group,{className:"mb-3",children:[Object(g.jsx)(k.a.Label,{children:"Face*"}),Object(g.jsxs)(k.a.Select,{style:W,size:R,onChange:function(e){if(n){var c=n;c.face=e.target.value,a(c)}"function"===typeof t&&t()},defaultValue:"default",children:[Object(g.jsx)("option",{disabled:!0,value:"default",children:"-- select face --"}),c.map((function(e,t){return Object(g.jsx)("option",{value:e.face_id,children:e.face_name},t)}))]})]}):Object(g.jsx)(g.Fragment,{children:"This feature doesn't have any faces yet!"})}):Object(g.jsx)(g.Fragment,{})}var E={climb_name:null,climb_type:null,face_id:null,grade:null,height:null,description:null};function N(){var e=Object(a.useState)(E),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(null),r=Object(s.a)(o,2),i=r[0],l=r[1],u=Object(a.useState)(null),O=Object(s.a)(u,2),x=O[0],m=O[1],p=Object(a.useState)(null),y=Object(s.a)(p,2),v=y[0],C=y[1],_=Object(a.useState)(null),I=Object(s.a)(_,2),N=I[0],A=I[1],D=Object(a.useState)(!0),B=Object(s.a)(D,2),G=B[0],P=B[1];return Object(a.useEffect)((function(){h("/owned/",l)}),[]),i?Object(g.jsx)(g.Fragment,{children:i.length>0?Object(g.jsx)(w.a,{children:Object(g.jsxs)(k.a,{style:{margin:"auto"},children:[Object(g.jsx)(S,{editableBooks:i,setEditableAreas:m}),Object(g.jsx)(F,{editableAreas:x,setEditableFeatures:C}),Object(g.jsx)(T,{editableFeatures:v,setEditableFaces:A}),Object(g.jsx)(L,{onChange:function(){return P(!1)},formData:n,setFormData:c,editableFaces:N}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"climb_name",children:[Object(g.jsx)(k.a.Label,{children:"Climb Name*"}),Object(g.jsx)(k.a.Control,{type:"text",placeholder:"",onInput:function(e){var t=n;t.climb_name=e.target.value,c(t)}})]}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"climb_type",children:[Object(g.jsx)(k.a.Label,{children:"Climb Type"}),Object(g.jsx)(k.a.Control,{type:"text",placeholder:"",onInput:function(e){var t=n;t.climb_type=e.target.value,c(t)}})]}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"grade",children:[Object(g.jsx)(k.a.Label,{children:"Grade"}),Object(g.jsx)(k.a.Control,{type:"text",placeholder:"",onInput:function(e){var t=n;t.grade=e.target.value,c(t)}})]}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"height",children:[Object(g.jsxs)(k.a.Label,{children:["Height ","en-us"===navigator.language.toLowerCase()?"(ft)":"(m)"]}),Object(g.jsx)(k.a.Control,{type:"text",placeholder:"",onInput:function(e){if(Number.isInteger(parseInt(e.target.value))||""===e.target.value){var t=n,a=parseInt(e.target.value);t.height="en-us"===navigator.language.toLowerCase()?Math.round(a/3.28084):a,c(t)}else f.a.fire({icon:"error",title:"Height must be a number",text:"Please Try Again."}),e.target.value=""}})]}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"description",children:[Object(g.jsx)(k.a.Label,{children:"Description"}),Object(g.jsx)(k.a.Control,{as:"textarea",rows:3,onInput:function(e){var t=n;t.description=e.target.value,c(t)}})]}),Object(g.jsxs)(k.a.Group,{controlId:"formFile",className:"mb-3",children:[Object(g.jsx)(k.a.Label,{children:"Climb Image"}),Object(g.jsx)(k.a.Control,{type:"file"})]}),Object(g.jsx)(j.a,{variant:"primary",type:"submit",disabled:G,onClick:function(e){e.preventDefault();var t=b(),a={"Content-Type":"application/json"};t&&(a.Authorization="Token ".concat(t)),fetch("".concat(d,"/climbs/"),{method:"POST",headers:a,body:JSON.stringify(n)}).then((function(t){if(t.ok)return t.json();var n=t.headers.get("content-type");return n&&-1!==n.indexOf("application/json")?t.json().then((function(t){if(Object.keys(t).indexOf("detail")>=0)throw Error(t.detail);var n;try{n=JSON.stringify(t)}catch(e){throw Error("unknown error")}throw Error(n)})):void 0})).then((function(e){console.log(e),Object.keys(e).indexOf("detail")>=0?f.a.fire({icon:"error",text:e.detail}):f.a.fire({icon:"success",title:"Climb Created",text:"Successfully created climb ".concat(n.climb_name," (id ").concat(e.climb_id,")")})})).catch((function(e){console.log(e),f.a.fire({icon:"error",text:e})}))},children:"Save Changes"})]})}):Object(g.jsx)(g.Fragment,{children:"Nothing available"})}):Object(g.jsx)(g.Fragment,{})}var A={book:null,area_name:null,area_description:null};function D(){var e=Object(a.useState)(A),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(null),r=Object(s.a)(o,2),i=r[0],l=r[1],O=Object(a.useState)(null),x=Object(s.a)(O,2),m=x[0],p=x[1],y=Object(a.useState)(!0),v=Object(s.a)(y,2),C=v[0],_=v[1];return Object(a.useEffect)((function(){h("/owned/",l)}),[]),i?Object(g.jsx)(g.Fragment,{children:i.length>0?Object(g.jsx)(w.a,{children:Object(g.jsxs)(k.a,{style:{margin:"auto"},children:[Object(g.jsx)(S,{onChange:function(){return _(!1)},formData:n,setFormData:c,editableBooks:i}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"area",children:[Object(g.jsx)(k.a.Label,{children:"Area Name*"}),Object(g.jsx)(k.a.Control,{type:"text",placeholder:"",style:{background:m},onInput:function(e){if(""===e.target.value)p(u),_(!0);else{p(null);var t=n;t.area_name=e.target.value,c(t),_(!1)}}})]}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"description",children:[Object(g.jsx)(k.a.Label,{children:"Description"}),Object(g.jsx)(k.a.Control,{as:"textarea",rows:3,onInput:function(e){var t=n;t.area_description=e.target.value,c(t)}})]}),Object(g.jsx)(j.a,{variant:"primary",type:"submit",disabled:C,onClick:function(e){if(e.preventDefault(),console.log(n),null!==n.area_name){var t=b(),a={"Content-Type":"application/json"};t&&(a.Authorization="Token ".concat(t)),fetch("".concat(d,"/areas/"),{method:"POST",headers:a,body:JSON.stringify(n)}).then((function(t){if(t.ok)return t.json();var n=t.headers.get("content-type");return n&&-1!==n.indexOf("application/json")?t.json().then((function(t){if(Object.keys(t).indexOf("detail")>=0)throw Error(t.detail);var n;try{n=JSON.stringify(t)}catch(e){throw Error("unknown error")}throw Error(n)})):void 0})).then((function(e){console.log(e),Object.keys(e).indexOf("detail")>=0?f.a.fire({icon:"error",text:e.detail}):f.a.fire({icon:"success",title:"Area Created",text:"Successfully created area ".concat(n.area_name)})})).catch((function(e){console.log(e),f.a.fire({icon:"error",text:e})}))}else p(u)},children:"Save Changes"})]})}):Object(g.jsx)(g.Fragment,{children:"You don't have any books yet!"})}):Object(g.jsx)(g.Fragment,{})}var B={feature_name:null,feature_description:null,gps:null,location:null,area:null};function G(){var e=Object(a.useState)(B),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(null),r=Object(s.a)(o,2),i=r[0],l=r[1],u=Object(a.useState)(null),O=Object(s.a)(u,2),x=O[0],m=O[1],p=Object(a.useState)(!0),y=Object(s.a)(p,2),v=y[0],C=y[1];return Object(a.useEffect)((function(){h("/owned/",l)}),[]),i?Object(g.jsx)(g.Fragment,{children:i.length>0?Object(g.jsx)(w.a,{children:Object(g.jsxs)(k.a,{style:{margin:"auto"},children:[Object(g.jsx)(S,{setEditableAreas:m,editableBooks:i}),Object(g.jsx)(F,{onChange:function(){return C(!1)},formData:n,setFormData:c,editableAreas:x}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"feature_name",children:[Object(g.jsx)(k.a.Label,{children:"Feature Name*"}),Object(g.jsx)(k.a.Control,{type:"text",placeholder:"",onInput:function(e){var t=n;t.feature_name=e.target.value,c(t)}})]}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"feature_description",children:[Object(g.jsx)(k.a.Label,{children:"Description"}),Object(g.jsx)(k.a.Control,{as:"textarea",rows:3,onInput:function(e){var t=n;t.feature_description=e.target.value,c(t)}})]}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"gps",children:[Object(g.jsx)(k.a.Label,{children:"GPS"}),Object(g.jsx)(k.a.Control,{type:"text",placeholder:"",onInput:function(e){var t=n;t.gps=e.target.value,c(t)}})]}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"location",children:[Object(g.jsx)(k.a.Label,{children:"Location"}),Object(g.jsx)(k.a.Control,{as:"textarea",rows:3,onInput:function(e){var t=n;t.location=e.target.value,c(t)}})]}),Object(g.jsx)(j.a,{variant:"primary",type:"submit",disabled:v,onClick:function(e){e.preventDefault();var t=b(),a={"Content-Type":"application/json"};t&&(a.Authorization="Token ".concat(t)),fetch("".concat(d,"/features/"),{method:"POST",headers:a,body:JSON.stringify(n)}).then((function(t){if(t.ok)return t.json();var n=t.headers.get("content-type");return n&&-1!==n.indexOf("application/json")?t.json().then((function(t){if(Object.keys(t).indexOf("detail")>=0)throw Error(t.detail);var n;try{n=JSON.stringify(t)}catch(e){throw Error("unknown error")}throw Error(n)})):void 0})).then((function(e){console.log(e),Object.keys(e).indexOf("detail")>=0?f.a.fire({icon:"error",text:e.detail}):f.a.fire({icon:"success",title:"Feature Created",text:"Successfully created feature ".concat(n.feature_name," (id ").concat(e.feature_id,")")})})).catch((function(e){console.log(e),f.a.fire({icon:"error",text:e})}))},children:"Save Changes"})]})}):Object(g.jsx)(g.Fragment,{children:"Nothing available"})}):Object(g.jsx)(g.Fragment,{})}var P={face_name:null,description:null,feature_id:null};function z(){var e=Object(a.useState)(P),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(null),r=Object(s.a)(o,2),i=r[0],l=r[1],u=Object(a.useState)(null),O=Object(s.a)(u,2),x=O[0],m=O[1],p=Object(a.useState)(null),y=Object(s.a)(p,2),v=y[0],C=y[1],_=Object(a.useState)(!0),I=Object(s.a)(_,2),L=I[0],E=I[1];return Object(a.useEffect)((function(){h("/owned/",l)}),[]),i?Object(g.jsx)(g.Fragment,{children:i.length>0?Object(g.jsx)(w.a,{children:Object(g.jsxs)(k.a,{style:{margin:"auto"},children:[Object(g.jsx)(S,{editableBooks:i,setEditableAreas:m}),Object(g.jsx)(F,{editableAreas:x,setEditableFeatures:C}),Object(g.jsx)(T,{onChange:function(){return E(!1)},formData:n,setFormData:c,editableFeatures:v}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"face_name",children:[Object(g.jsx)(k.a.Label,{children:"Face Name"}),Object(g.jsx)(k.a.Control,{type:"text",placeholder:"",onInput:function(e){var t=n;t.face_name=e.target.value,c(t)}})]}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"face_description",children:[Object(g.jsx)(k.a.Label,{children:"Description"}),Object(g.jsx)(k.a.Control,{as:"textarea",rows:3,onInput:function(e){var t=n;t.face_description=e.target.value,c(t)}})]}),Object(g.jsxs)(k.a.Group,{controlId:"image",className:"mb-3",children:[Object(g.jsx)(k.a.Label,{children:"Face Image"}),Object(g.jsx)(k.a.Control,{type:"file"})]}),Object(g.jsx)(j.a,{variant:"primary",type:"submit",disabled:L,onClick:function(e){e.preventDefault();var t=b(),a={"Content-Type":"application/json"};t&&(a.Authorization="Token ".concat(t)),fetch("".concat(d,"/faces/"),{method:"POST",headers:a,body:JSON.stringify(n)}).then((function(t){if(t.ok)return t.json();var n=t.headers.get("content-type");return n&&-1!==n.indexOf("application/json")?t.json().then((function(t){if(Object.keys(t).indexOf("detail")>=0)throw Error(t.detail);var n;try{n=JSON.stringify(t)}catch(e){throw Error("unknown error")}throw Error(n)})):void 0})).then((function(e){console.log(e),Object.keys(e).indexOf("detail")>=0?f.a.fire({icon:"error",text:e.detail}):f.a.fire({icon:"success",title:"Face Created",text:"Successfully created face ".concat(n.face_name," (id ").concat(e.face_id,")")})})).catch((function(e){console.log(e),f.a.fire({icon:"error",text:e})}))},children:"Save Changes"})]})}):Object(g.jsx)(g.Fragment,{children:"Nothing available"})}):Object(g.jsx)(g.Fragment,{})}var J={book_name:null,book_description:null,public:!1,listed:!1,grade_hist:"1, 4, 3"};function H(){var e=Object(a.useState)(J),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(g.jsx)(w.a,{children:Object(g.jsxs)(k.a,{style:{margin:"auto"},children:[Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"area",children:[Object(g.jsx)(k.a.Label,{children:"Book Name"}),Object(g.jsx)(k.a.Control,{type:"text",placeholder:"",onInput:function(e){var t=n;t.book_name=e.target.value,c(t)}})]}),Object(g.jsxs)(k.a.Group,{className:"mb-3",controlId:"book_description",children:[Object(g.jsx)(k.a.Label,{children:"Book Description"}),Object(g.jsx)(k.a.Control,{as:"textarea",rows:3,onInput:function(e){var t=n;t.book_description=e.target.value,c(t)}})]}),Object(g.jsx)(k.a.Check,{type:"checkbox",id:"public",label:"Public",onInput:function(e){var t=n;t.public=e.target.checked,c(t)}}),Object(g.jsx)(k.a.Check,{type:"checkbox",id:"listed",label:"Listed",onInput:function(e){var t=n;t.listed=e.target.checked,c(t)}}),Object(g.jsx)("br",{}),Object(g.jsx)(j.a,{variant:"primary",type:"submit",onClick:function(e){e.preventDefault();var t=b(),a={"Content-Type":"application/json"};t&&(a.Authorization="Token ".concat(t)),fetch("".concat(d,"/books/"),{method:"POST",headers:a,body:JSON.stringify(n)}).then((function(t){if(t.ok)return t.json();var n=t.headers.get("content-type");return n&&-1!==n.indexOf("application/json")?t.json().then((function(t){if(Object.keys(t).indexOf("detail")>=0)throw Error(t.detail);var n;try{n=JSON.stringify(t)}catch(e){throw Error("unknown error")}throw Error(n)})):void 0})).then((function(e){console.log(e),Object.keys(e).indexOf("detail")>=0?f.a.fire({icon:"error",text:e.detail}):f.a.fire({icon:"success",title:"Book Created",text:"Successfully created book ".concat(n.book_name)})})).catch((function(e){console.log(e),f.a.fire({icon:"error",text:e})}))},children:"Save Changes"})]})})}var W={marginLeft:20,width:"clamp(200px, 25%, 400px)"},R="md";function U(){var e=Object(a.useState)("Book"),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(g.jsx)(x.a,{style:{margin:"auto",top:"50px",width:"50%"},children:Object(g.jsxs)(x.a.Body,{children:[Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsx)(x.a.Title,{style:{lineHeight:2},children:"Create a new"}),Object(g.jsxs)(k.a.Select,{style:{marginLeft:20,width:"clamp(200px, 25%, 400px)"},size:"lg",onChange:function(e){c(e.target.value)},children:[Object(g.jsx)("option",{value:"Book",children:"Book"}),Object(g.jsx)("option",{value:"Area",children:"Area"}),Object(g.jsx)("option",{value:"Feature",children:"Feature"}),Object(g.jsx)("option",{value:"Face",children:"Face"}),Object(g.jsx)("option",{value:"Climb",children:"Climb"})]})]}),Object(g.jsx)("br",{}),function(){switch(n){case"Climb":return Object(g.jsx)(N,{});case"Area":return Object(g.jsx)(D,{});case"Feature":return Object(g.jsx)(G,{});case"Face":return Object(g.jsx)(z,{});case"Book":return Object(g.jsx)(H,{});default:return null}}()]})})}var M=n(47),V=n(25),q=n(66);function Y(e){var t=e.loggedIn,n=e.setLoggedIn,c=Object(l.f)();return Object(a.useEffect)((function(){n(Object.keys(sessionStorage).indexOf("auth_token")>=0||Object.keys(localStorage).indexOf("auth_token")>=0)}),[n]),Object(g.jsx)(M.a,{bg:"dark",variant:"dark",expand:"md",sticky:"top",style:{minWidth:"100vw",maxWidth:"100vw"},children:Object(g.jsxs)(w.a,{fluid:!0,children:[Object(g.jsx)(M.a.Brand,{style:{cursor:"pointer"},onClick:function(){return c("/")},children:"Rad Routes"}),Object(g.jsx)(M.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(g.jsxs)(M.a.Collapse,{id:"basic-navbar-nav",children:[Object(g.jsxs)(V.a,{className:"me-auto",children:[Object(g.jsx)(V.a.Link,{onClick:function(){return c("/books")},children:"Guidebooks"}),Object(g.jsx)(V.a.Link,{onClick:function(){return c("/areas")},children:"Areas"}),Object(g.jsx)(V.a.Link,{onClick:function(){return c("/features")},children:"Features"}),Object(g.jsx)(V.a.Link,{onClick:function(){return c("/faces")},children:"Faces"}),Object(g.jsx)(V.a.Link,{onClick:function(){return c("/climbs")},children:"Climbs"}),t?Object(g.jsx)(V.a.Link,{onClick:function(){return c("/create")},children:"Create"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)(V.a,{className:"justify-content-end",style:{width:"100%"},children:[t?Object(g.jsx)(q.a,{menuVariant:"dark",title:localStorage.username,id:"user-dropdown",children:Object(g.jsx)(V.a.Link,{onClick:function(){for(var e=0,t=["username","auth_token"];e<t.length;e++){var a=t[e];localStorage.removeItem(a),sessionStorage.removeItem(a)}n(!1),c("/"),window.location.reload()},children:"Logout"})}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(V.a.Link,{onClick:function(){return c("/signup")},children:"Sign Up"}),Object(g.jsx)(V.a.Link,{onClick:function(){return c("/login")},children:"Login"})]}),Object(g.jsx)("div",{style:{minWidth:100}})]})]})]})})}function K(e){var t=e.children,n=e.loggedIn,a=e.setLoggedIn;return Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100vh"},children:[Object(g.jsx)(Y,{loggedIn:n,setLoggedIn:a}),Object(g.jsx)("div",{style:{flexGrow:1},children:t})]})}function Q(){var e=Object(l.f)();return Object(g.jsx)("div",{style:{height:"100%",display:"grid",placeItems:"center",fontSize:48},children:Object(g.jsxs)("div",{style:{textAlign:"center"},children:["404: page not found ",Object(g.jsx)("br",{}),Object(g.jsx)(j.a,{variant:"dark",onClick:function(){e("/books")},children:"Explore Guidebooks"})]})})}var X=n(28),Z=n(21),$={username:"",first_name:"",last_name:""};function ee(e){var t=e.data,n=e.deleteThis,c=e.loggedIn,o=t,r=Object(l.f)(),i=Object(a.useState)($),u=Object(s.a)(i,2),O=u[0],m=u[1];return Object(a.useEffect)((function(){h("/users/".concat(t.author),m)}),[t]),!o||Object.keys(o).length>1?Object(g.jsx)(x.a,{style:{width:"36rem",margin:10,cursor:"pointer"},onClick:function(){console.log(o),r("/books/".concat(o.book_id))},children:Object(g.jsxs)(x.a.Body,{style:{minWidth:"60%",lineHeight:"2rem"},children:[Object(g.jsx)(x.a.Title,{children:o.book_name}),Object(g.jsx)(x.a.Text,{style:{marginTop:"1rem"},children:o.book_description}),"Best Quality: ",Object(g.jsx)("b",{children:o.quality_max})," ",Object(g.jsx)("br",{}),Object(g.jsxs)(x.a.Text,{children:["by ",O.username]}),"function"===typeof n&&c?Object(g.jsx)(j.a,{variant:"danger",onClick:function(e){e.stopPropagation(),f.a.fire({icon:"warning",title:'Are you sure you want to delete "'.concat(o.book_name,'"?'),text:'Type "'.concat(o.book_name,'" to confirm.'),showCancelButton:!0,focusCancel:!0,confirmButtonText:"Delete ".concat(o.book_name),confirmButtonColor:"#f33",input:"text",inputAttributes:{autocapitalize:"off"}}).then((function(t){if(t.isConfirmed&&t.value===o.book_name){console.log(o);var a=b(),c=a?{Authorization:"Token ".concat(a)}:{};fetch("".concat(d,"/books/").concat(o.book_id),{method:"DELETE",headers:c}).then((function(t){if(!t.ok)throw Error("Could not delete this book. Are you sure you own it?");console.log(t.text,o);try{f.a.fire({icon:"success",text:"successfully deleted ".concat(o.book_name)})}catch(e){console.log(e)}n()})).catch((function(e){f.a.fire({icon:"error",text:e})}))}}))},children:"Delete"}):Object(g.jsx)(g.Fragment,{})]})}):Object(g.jsx)(g.Fragment,{children:"This Book Does Not Exist"})}function te(e){var t=e.loggedIn,n=Object(a.useState)([]),c=Object(s.a)(n,2),o=c[0],r=c[1];return Object(a.useEffect)((function(){h("books/",r)}),[]),o.length>0?Object(g.jsx)(X.a,{xs:1,md:2,lg:3,style:{width:"100%"},children:o.map((function(e,n){return Object(g.jsx)(Z.a,{style:{display:"flex",justifyContent:"center"},children:Object(g.jsx)(ee,{data:e,loggedIn:t,deleteThis:function(){var e=o.slice();e.splice(n,1),r(e)}})},n)}))}):t?Object(g.jsx)("div",{style:{textAlign:"center"},children:"No Books Available"}):Object(g.jsx)("div",{style:{textAlign:"center"},children:"Log in to see available books"})}function ne(e){var t=e.data,n=e.onPage,a=e.deleteThis,c=e.loggedIn,o=t,r=Object(l.f)();return Object.keys(o).length>1?Object(g.jsx)(x.a,{style:{width:"36rem",margin:10},children:Object(g.jsxs)(x.a.Body,{style:{minWidth:"60%",lineHeight:"2rem"},children:[Object(g.jsx)(x.a.Title,{children:o.area_name}),Object(g.jsx)(x.a.Text,{style:{marginTop:"1rem"},children:o.area_description}),"Quality: ",Object(g.jsx)("b",{children:o.area_quality})," ",Object(g.jsx)("br",{}),n?Object(g.jsx)(g.Fragment,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a.Link,{onClick:function(){return r("/books/".concat(o.book))},children:"Guidebook"}),Object(g.jsx)("br",{})]}),Object(g.jsx)(x.a.Link,{onClick:function(){return r("/areas/".concat(o.area_id))},children:"Features"}),Object(g.jsx)("br",{}),"function"===typeof a&&c?Object(g.jsx)(j.a,{variant:"danger",onClick:function(){f.a.fire({icon:"warning",title:'Are you sure you want to delete "'.concat(o.area_name,'"?'),showCancelButton:!0,focusCancel:!0,confirmButtonText:"Delete ".concat(o.area_name),confirmButtonColor:"#f33"}).then((function(e){if(e.isConfirmed){console.log(o);var t=b(),n=t?{Authorization:"Token ".concat(t)}:{};fetch("".concat(d,"/areas/").concat(o.area_id),{method:"DELETE",headers:n}).then((function(e){if(!e.ok)throw Error("Could not delete this area. Are you sure you own it?");console.log(e.text,o);try{f.a.fire({icon:"success",text:"successfully deleted ".concat(o.area_name)})}catch(t){console.log(t)}a()})).catch((function(e){f.a.fire({icon:"error",text:e})}))}}))},children:"Delete"}):Object(g.jsx)(g.Fragment,{})]})}):Object(g.jsx)(g.Fragment,{children:"This Area Does Not Exist"})}function ae(e){var t=e.loggedIn,n=e.bookId,c=e.onPage,o=Object(a.useState)([]),r=Object(s.a)(o,2),i=r[0],j=r[1],b=Object(l.g)().id;return Object(a.useEffect)((function(){var e;e=n?"/books/".concat(n,"/areas/"):b?"/books/".concat(b,"/areas/"):"/areas/",h(e,j)}),[b,n]),i.length>0?Object(g.jsx)(X.a,{xs:1,md:2,lg:3,style:{width:"100%"},children:i.map((function(e,n){return Object(g.jsx)(Z.a,{style:{display:"flex",justifyContent:"center"},children:Object(g.jsx)(ne,{data:e,onPage:c,loggedIn:t,deleteThis:function(){var e=i.slice();e.splice(n,1),j(e)}})},n)}))}):t?Object(g.jsx)("div",{style:{textAlign:"center"},children:"No Areas Available"}):Object(g.jsx)("div",{style:{textAlign:"center"},children:"Log in to see available areas"})}function ce(e){var t=e.data,n=e.onPage,a=e.deleteThis,c=e.loggedIn,o=t,r=Object(l.f)();return Object.keys(o).length>1?Object(g.jsx)(x.a,{style:{width:"36rem",margin:10},onClick:function(){console.log(o)},children:Object(g.jsxs)(x.a.Body,{style:{minWidth:"60%",lineHeight:"2rem"},children:[Object(g.jsx)(x.a.Title,{children:o.feature_name}),Object(g.jsx)(x.a.Text,{style:{marginTop:"1rem"},children:o.feature_description}),"Location: ",Object(g.jsx)("b",{children:o.location})," ",Object(g.jsx)("br",{}),"GPS: ",Object(g.jsx)("b",{children:o.gps})," ",Object(g.jsx)("br",{}),n?Object(g.jsx)(g.Fragment,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a.Link,{onClick:function(){return r("/areas/".concat(o.area))},children:"Area"}),Object(g.jsx)("br",{})]}),Object(g.jsx)(x.a.Link,{onClick:function(){return r("/features/".concat(o.feature_id))},children:"Faces"}),Object(g.jsx)("br",{}),"function"===typeof a&&c?Object(g.jsx)(j.a,{variant:"danger",onClick:function(){f.a.fire({icon:"warning",title:'Are you sure you want to delete "'.concat(o.feature_name,'"?'),showCancelButton:!0,focusCancel:!0,confirmButtonText:"Delete ".concat(o.feature_name),confirmButtonColor:"#f33"}).then((function(e){if(e.isConfirmed){console.log(o);var t=b(),n=t?{Authorization:"Token ".concat(t)}:{};fetch("".concat(d,"/features/").concat(o.feature_id),{method:"DELETE",headers:n}).then((function(e){if(!e.ok)throw Error("Could not delete this feature. Are you sure you own it?");console.log(e.text,o);try{f.a.fire({icon:"success",text:"successfully deleted ".concat(o.feature_name)})}catch(t){console.log(t)}a()})).catch((function(e){f.a.fire({icon:"error",text:e})}))}}))},children:"Delete"}):Object(g.jsx)(g.Fragment,{})]})}):Object(g.jsx)(g.Fragment,{children:"This Feature Does Not Exist"})}function oe(e){var t=e.loggedIn,n=e.areaId,c=e.onPage,o=Object(a.useState)([]),r=Object(s.a)(o,2),i=r[0],j=r[1],b=Object(l.g)().id;return Object(a.useEffect)((function(){var e;e=n?"/areas/".concat(n,"/features"):b?"/areas/".concat(b,"/features"):"/features/",h(e,j)}),[b,n]),i.length>0?Object(g.jsx)(X.a,{xs:1,md:2,lg:3,style:{width:"100%"},children:i.map((function(e,n){return Object(g.jsx)(Z.a,{style:{display:"flex",justifyContent:"center"},children:Object(g.jsx)(ce,{data:e,onPage:c,loggedIn:t,deleteThis:function(){var e=i.slice();e.splice(n,1),j(e)}})},n)}))}):t?Object(g.jsx)("div",{style:{textAlign:"center"},children:"No Features Available"}):Object(g.jsx)("div",{style:{textAlign:"center"},children:"Log in to see available features"})}function re(e){var t=e.data,n=e.onPage,a=e.deleteThis,c=e.loggedIn,o=t,r=Object(l.f)();return Object.keys(o).length>1?Object(g.jsx)(x.a,{style:{width:"36rem",margin:10},onClick:function(){console.log(o)},children:Object(g.jsxs)(x.a.Body,{style:{minWidth:"60%",lineHeight:"2rem"},children:[Object(g.jsx)(x.a.Title,{children:o.face_name}),Object(g.jsx)(x.a.Text,{style:{marginTop:"1rem"},children:o.face_description}),n?Object(g.jsx)(g.Fragment,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.a.Link,{onClick:function(){return r("/features/".concat(o.feature))},children:"Feature"}),Object(g.jsx)("br",{})]}),Object(g.jsx)(x.a.Link,{onClick:function(){return r("/faces/".concat(o.face_id))},children:"Climbs"}),Object(g.jsx)("br",{}),"function"===typeof a&&c?Object(g.jsx)(j.a,{variant:"danger",onClick:function(){f.a.fire({icon:"warning",title:'Are you sure you want to delete "'.concat(o.face_name,'"?'),showCancelButton:!0,focusCancel:!0,confirmButtonText:"Delete ".concat(o.face_name),confirmButtonColor:"#f33"}).then((function(e){if(e.isConfirmed){console.log(o);var t=b(),n=t?{Authorization:"Token ".concat(t)}:{};fetch("".concat(d,"/faces/").concat(o.face_id),{method:"DELETE",headers:n}).then((function(e){if(!e.ok)throw Error("Could not delete this face. Are you sure you own it?");console.log(e.text,o);try{f.a.fire({icon:"success",text:"successfully deleted ".concat(o.face_name)})}catch(t){console.log(t)}a()})).catch((function(e){f.a.fire({icon:"error",text:e})}))}}))},children:"Delete"}):Object(g.jsx)(g.Fragment,{})]})}):Object(g.jsx)(g.Fragment,{children:"This Face Does Not Exist"})}function se(e){var t=e.loggedIn,n=e.featureId,c=e.onPage,o=Object(a.useState)([]),r=Object(s.a)(o,2),i=r[0],j=r[1],b=Object(l.g)().id;return Object(a.useEffect)((function(){var e;e=n?"/features/".concat(n,"/faces"):b?"/features/".concat(b,"/faces"):"/faces",h(e,j)}),[b,n]),i.length>0?Object(g.jsx)(X.a,{xs:1,md:2,lg:3,style:{width:"100%"},children:i.map((function(e,n){return Object(g.jsx)(Z.a,{style:{display:"flex",justifyContent:"center"},children:Object(g.jsx)(re,{onPage:c,data:e,loggedIn:t,deleteThis:function(){var e=i.slice();e.splice(n,1),j(e)}})},n)}))}):t?Object(g.jsx)("div",{style:{textAlign:"center"},children:"No Faces Available"}):Object(g.jsx)("div",{style:{textAlign:"center"},children:"Log in to see available faces"})}function ie(e){var t=e.loggedIn,n=e.faceId,c=e.onPage,o=Object(a.useState)([]),r=Object(s.a)(o,2),i=r[0],j=r[1],b=Object(l.g)().id;return Object(a.useEffect)((function(){var e;e=n?"/faces/".concat(n,"/climbs"):b?"/faces/".concat(b,"/climbs"):"climbs",h(e,j)}),[b,n]),i.length>0?Object(g.jsx)(X.a,{xs:1,md:2,lg:3,style:{width:"100%"},children:i.map((function(e,n){return Object(g.jsx)(Z.a,{style:{display:"flex",justifyContent:"center"},children:Object(g.jsx)(y,{onPage:c,data:e,loggedIn:t,deleteThis:function(){var e=i.slice();e.splice(n,1),j(e)}})},n)}))}):t?Object(g.jsx)("div",{style:{textAlign:"center"},children:"No Climbs Available"}):Object(g.jsx)("div",{style:{textAlign:"center"},children:"Log in to see available climbs"})}var le={book_name:"",book_description:""},je={username:"",first_name:"",last_name:""};function be(e){var t=e.loggedIn,n=Object(l.g)().id,c=Object(a.useState)(le),o=Object(s.a)(c,2),r=o[0],i=o[1],j=Object(a.useState)(je),u=Object(s.a)(j,2),h=u[0],O=u[1];return Object(a.useEffect)((function(){var e=b(),t=e?{Authorization:"Token ".concat(e)}:{};fetch("".concat(d,"/books/").concat(n),{method:"GET",headers:t}).then((function(e){return e.json()})).then((function(e){i(e),function(e,t,n){fetch("".concat(d,"/users/").concat(e),{method:"GET",headers:n}).then((function(e){return e.json()})).then((function(e){return t(e)})).catch((function(e){return console.log(e)}))}(e.author,O,t)})).catch((function(e){return console.log(e)}))}),[n]),Object(g.jsxs)("div",{style:{height:"100%"},children:[Object(g.jsxs)("div",{style:{textAlign:"center"},children:[Object(g.jsx)("h1",{children:r.book_name}),Object(g.jsx)("br",{}),Object(g.jsxs)("h4",{children:["by ",h.first_name," ",h.last_name]}),Object(g.jsx)("br",{}),r.book_description]}),Object(g.jsx)(ae,{bookId:n,loggedIn:t,onPage:!0})]})}var de={area_name:"",area_description:"",book:""};function ue(e){var t=e.loggedIn,n=Object(l.g)().id,c=Object(a.useState)(de),o=Object(s.a)(c,2),r=o[0],j=o[1];return Object(a.useEffect)((function(){h("/areas/".concat(n),j)}),[n]),Object(g.jsxs)("div",{style:{height:"100%"},children:[Object(g.jsxs)("div",{style:{textAlign:"center"},children:[Object(g.jsx)("h1",{children:r.area_name}),Object(g.jsx)("br",{}),r.area_description," ",Object(g.jsx)("br",{}),Object(g.jsx)(i.b,{to:"/books/".concat(r.book),children:"Guidebook"})]}),Object(g.jsx)(oe,{areaId:n,loggedIn:t,onPage:!0})]})}var he={feature_name:"",feature_description:""};function Oe(e){var t=e.loggedIn,n=Object(l.g)().id,c=Object(a.useState)(he),o=Object(s.a)(c,2),r=o[0],j=o[1];return Object(a.useEffect)((function(){h("/features/".concat(n),j)}),[n]),Object(g.jsxs)("div",{style:{height:"100%"},children:[Object(g.jsxs)("div",{style:{textAlign:"center"},children:[Object(g.jsx)("h1",{children:r.feature_name}),Object(g.jsx)("br",{}),r.feature_description,Object(g.jsx)("br",{}),Object(g.jsx)(i.b,{to:"/areas/".concat(r.area),children:"Area"})]}),Object(g.jsx)(se,{featureId:n,loggedIn:t,onPage:!0})]})}var fe={face_name:"",face_description:""};function xe(e){var t=e.loggedIn,n=Object(l.g)().id,c=Object(a.useState)(fe),o=Object(s.a)(c,2),r=o[0],j=o[1];return Object(a.useEffect)((function(){h("/faces/".concat(n),j)}),[n]),Object(g.jsxs)("div",{style:{height:"100%"},children:[Object(g.jsxs)("div",{style:{textAlign:"center"},children:[Object(g.jsx)("h1",{children:r.face_name}),Object(g.jsx)("br",{}),r.face_description,Object(g.jsx)("br",{}),Object(g.jsx)(i.b,{to:"/features/".concat(r.feature),children:"Feature"})]}),Object(g.jsx)(ie,{faceId:n,loggedIn:t,onPage:!0})]})}var ge=function(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){c(Object.keys(sessionStorage).indexOf("auth_token")>=0||Object.keys(localStorage).indexOf("auth_token")>=0)}),[]),Object(g.jsx)(i.a,{children:Object(g.jsx)(K,{loggedIn:n,setLoggedIn:c,children:Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{exact:!0,path:"/",element:Object(g.jsx)(v,{loggedIn:n})}),Object(g.jsx)(l.a,{exact:!0,path:"/books",element:Object(g.jsx)(te,{loggedIn:n})}),Object(g.jsx)(l.a,{exact:!0,path:"/areas",element:Object(g.jsx)(ae,{loggedIn:n})}),Object(g.jsx)(l.a,{exact:!0,path:"/features",element:Object(g.jsx)(oe,{loggedIn:n})}),Object(g.jsx)(l.a,{exact:!0,path:"/faces",element:Object(g.jsx)(se,{loggedIn:n})}),Object(g.jsx)(l.a,{exact:!0,path:"/climbs",element:Object(g.jsx)(ie,{loggedIn:n})}),Object(g.jsx)(l.a,{exact:!0,path:"/books/:id",element:Object(g.jsx)(be,{loggedIn:n})}),Object(g.jsx)(l.a,{exact:!0,path:"/areas/:id",element:Object(g.jsx)(ue,{loggedIn:n})}),Object(g.jsx)(l.a,{exact:!0,path:"/features/:id",element:Object(g.jsx)(Oe,{loggedIn:n})}),Object(g.jsx)(l.a,{exact:!0,path:"/faces/:id",element:Object(g.jsx)(xe,{loggedIn:n})}),Object(g.jsx)(l.a,{exact:!0,path:"/books/:id/areas",element:Object(g.jsx)(ae,{loggedIn:n})}),Object(g.jsx)(l.a,{exact:!0,path:"/areas/:id/features",element:Object(g.jsx)(oe,{loggedIn:n})}),Object(g.jsx)(l.a,{exact:!0,path:"/features/:id/faces",element:Object(g.jsx)(se,{loggedIn:n})}),Object(g.jsx)(l.a,{exact:!0,path:"/faces/:id/climbs",element:Object(g.jsx)(ie,{loggedIn:n})}),Object(g.jsx)(l.a,{exact:!0,path:"/signup",element:Object(g.jsx)(_,{loggedIn:n,setLoggedIn:c})}),Object(g.jsx)(l.a,{exact:!0,path:"/login",element:Object(g.jsx)(I,{loggedIn:n,setLoggedIn:c})}),Object(g.jsx)(l.a,{exact:!0,path:"/create",element:Object(g.jsx)(U,{})}),Object(g.jsx)(l.a,{exact:!0,path:"*",element:Object(g.jsx)(Q,{})})]})})})};n(88);r.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(ge,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.9cf638ad.chunk.js.map